--------------------------------------------------------
--  File created - Saturday-December-20-2014   
--------------------------------------------------------
DROP TABLE "SYSTEM"."OFFER" cascade constraints;
DROP TABLE "SYSTEM"."PROFILE" cascade constraints;
DROP TABLE "SYSTEM"."USERDTO" cascade constraints;
DROP FUNCTION "SYSTEM"."TANIE";
DROP FUNCTION "SYSTEM"."FP_TR";
DROP FUNCTION "SYSTEM"."FP_KL";
DROP FUNCTION "SYSTEM"."FP_KG";
--------------------------------------------------------
--  DDL for Table OFFER
--------------------------------------------------------

  CREATE TABLE "SYSTEM"."OFFER" 
   (	"ID" NUMBER(19,0), 
	"ADDRESS" VARCHAR2(20 CHAR), 
	"DISTANCE_TO_MPK" FLOAT(126), 
	"DISTANCE_TO_CENTER" FLOAT(126), 
	"EXPOSITION" VARCHAR2(20 CHAR), 
	"FLOOR" NUMBER(10,0), 
	"N_OF_ROOMS" NUMBER(10,0), 
	"PRICE" FLOAT(126), 
	"TOTAL_AREA" FLOAT(126), 
	"IDUSER" NUMBER(19,0)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table PROFILE
--------------------------------------------------------

  CREATE TABLE "SYSTEM"."PROFILE" 
   (	"ID" NUMBER(19,0), 
	"AREA_A" FLOAT(126), 
	"AREA_B" FLOAT(126), 
	"AREA_C" FLOAT(126), 
	"AREA_D" FLOAT(126), 
	"CITY_DIST_A" FLOAT(126), 
	"CITY_DIST_B" FLOAT(126), 
	"CITY_DIST_C" FLOAT(126), 
	"CITY_DIST_D" FLOAT(126), 
	"FLOOR_A" FLOAT(126), 
	"FLOOR_B" FLOAT(126), 
	"FLOOR_C" FLOAT(126), 
	"FLOOR_D" FLOAT(126), 
	"MPK_DIST_A" FLOAT(126), 
	"MPK_DIST_B" FLOAT(126), 
	"MPK_DIST_C" FLOAT(126), 
	"MPK_DIST_D" FLOAT(126), 
	"PRICE_A" FLOAT(126), 
	"PRICE_B" FLOAT(126), 
	"PRICE_C" FLOAT(126), 
	"PRICE_D" FLOAT(126), 
	"USER_ID" NUMBER(19,0)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table USERDTO
--------------------------------------------------------

  CREATE TABLE "SYSTEM"."USERDTO" 
   (	"ID" NUMBER(19,0), 
	"ADDRESS" VARCHAR2(20 CHAR), 
	"EMAIL" VARCHAR2(20 CHAR), 
	"LOGIN" VARCHAR2(20 CHAR), 
	"PASSWORD" VARCHAR2(20 CHAR), 
	"PHONE" VARCHAR2(20 CHAR), 
	"TYPE" VARCHAR2(20 CHAR)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
REM INSERTING into SYSTEM.OFFER
SET DEFINE OFF;
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (230,'adres',563.8093,1.5307353,'tak',3,5,288.40497,99.93801,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (231,'adres',734.9478,11.773516,'tak',1,1,561.7666,55.4987,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (232,'adres',967.1392,2.3436477,'tak',5,1,504.14117,66.62955,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (233,'adres',514.874,11.702006,'tak',1,5,253.07297,33.220295,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (234,'adres',553.4182,3.7114642,'tak',7,3,347.36334,100.13649,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (235,'adres',1159.19,11.143398,'tak',4,5,161.80048,62.530533,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (236,'adres',391.07382,9.316422,'tak',5,2,1170.0085,51.225327,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (237,'adres',78.382454,11.101398,'tak',11,5,338.76898,83.97327,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (238,'adres',258.74762,3.844167,'tak',8,3,714.78687,108.79927,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (239,'adres',873.1998,11.9143305,'tak',4,2,365.39008,64.18759,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (240,'adres',599.1622,10.801954,'tak',7,1,637.90344,94.875534,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (241,'adres',990.63434,10.146433,'tak',3,4,472.42346,18.532555,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (242,'adres',1158.3384,10.341553,'tak',4,6,864.6355,14.982591,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (243,'adres',252.88432,7.9757614,'tak',11,4,416.3052,92.396965,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (244,'adres',1156.8181,3.3493667,'tak',10,2,506.41306,13.853268,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (245,'adres',1207.1013,3.6957264,'tak',5,1,187.37694,24.23676,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (246,'adres',221.25328,7.1019325,'tak',2,2,1041.7443,76.32401,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (247,'adres',1155.123,1.7202795,'tak',8,2,278.9464,23.423557,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (248,'adres',950.551,1.9814873,'tak',10,2,547.84186,97.381035,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (249,'adres',1068.9071,8.901335,'tak',3,2,630.4738,32.6323,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (250,'adres',1175.539,8.903067,'tak',9,2,522.10535,22.780577,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (251,'adres',1208.377,6.503603,'tak',5,2,79.51645,37.33474,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (252,'adres',692.4765,0.7214606,'tak',2,1,1175.5825,98.319565,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (253,'adres',851.403,3.7761297,'tak',10,5,138.84912,32.535744,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (254,'adres',318.33252,6.6032352,'tak',9,1,151.95212,10.5535965,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (255,'adres',1153.7979,7.3714886,'tak',6,2,523.3966,16.106876,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (256,'adres',794.59656,5.5255585,'tak',2,4,415.6141,57.269016,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (257,'adres',1077.1943,0.7400501,'tak',4,2,313.3836,34.476334,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (258,'adres',72.7506,10.925338,'tak',11,4,253.0809,46.008602,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (259,'adres',775.2967,0.89118075,'tak',10,6,71.88174,89.70079,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (260,'adres',325.2265,1.416506,'tak',9,1,783.9948,94.07817,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (261,'adres',137.2249,0.21034169,'tak',4,1,609.9533,72.9822,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (262,'adres',724.41724,0.9296508,'tak',7,3,365.25546,92.77407,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (263,'adres',788.209,10.078338,'tak',6,1,789.7976,92.53892,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (264,'adres',278.74533,0.8977139,'tak',1,6,870.72296,22.437307,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (265,'adres',671.96985,6.3288603,'tak',6,5,145.34952,47.33598,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (266,'adres',984.955,4.4088993,'tak',8,2,191.30112,99.821365,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (267,'adres',989.84265,2.9916308,'tak',8,2,729.4137,109.954506,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (268,'adres',664.7225,9.342234,'tak',4,1,1100.1697,24.132858,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (269,'adres',1072.366,9.521889,'tak',5,4,365.81335,107.01205,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (270,'adres',533.70233,7.1270485,'tak',7,6,575.59357,46.63259,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (271,'adres',424.97937,6.38511,'tak',10,5,690.3833,62.559566,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (272,'adres',321.788,0.03408265,'tak',1,6,154.02278,70.70214,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (273,'adres',108.64228,2.9796646,'tak',8,1,525.557,15.194884,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (274,'adres',691.32294,2.1450663,'tak',9,4,847.3183,19.431517,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (275,'adres',830.2437,8.233906,'tak',1,1,216.37256,100.48859,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (276,'adres',309.9754,4.7492256,'tak',8,3,335.2178,98.61654,212);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (277,'adres',307.7265,10.601126,'tak',9,1,1024.7385,32.42809,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (278,'adres',295.07455,11.819478,'tak',7,3,967.6006,84.201706,211);
Insert into SYSTEM.OFFER (ID,ADDRESS,DISTANCE_TO_MPK,DISTANCE_TO_CENTER,EXPOSITION,FLOOR,N_OF_ROOMS,PRICE,TOTAL_AREA,IDUSER) values (279,'adres',169.3318,9.915647,'tak',4,3,713.99225,105.70044,212);
REM INSERTING into SYSTEM.PROFILE
SET DEFINE OFF;
Insert into SYSTEM.PROFILE (ID,AREA_A,AREA_B,AREA_C,AREA_D,CITY_DIST_A,CITY_DIST_B,CITY_DIST_C,CITY_DIST_D,FLOOR_A,FLOOR_B,FLOOR_C,FLOOR_D,MPK_DIST_A,MPK_DIST_B,MPK_DIST_C,MPK_DIST_D,PRICE_A,PRICE_B,PRICE_C,PRICE_D,USER_ID) values (220,20,50,70,100,1,5,7,10,1,3,5,7,20,200,500,1000,100,200,500,1000,210);
REM INSERTING into SYSTEM.USERDTO
SET DEFINE OFF;
Insert into SYSTEM.USERDTO (ID,ADDRESS,EMAIL,LOGIN,PASSWORD,PHONE,TYPE) values (210,'userowo','user@user.user','user','user','1234567890','commonUser');
Insert into SYSTEM.USERDTO (ID,ADDRESS,EMAIL,LOGIN,PASSWORD,PHONE,TYPE) values (211,'devowo','dev@dev.dev','dev','dev','0987654321','superUser');
Insert into SYSTEM.USERDTO (ID,ADDRESS,EMAIL,LOGIN,PASSWORD,PHONE,TYPE) values (212,'devowo','dev1@dev1.dev','dev1','dev1','1023954633','superUser');
Insert into SYSTEM.USERDTO (ID,ADDRESS,EMAIL,LOGIN,PASSWORD,PHONE,TYPE) values (213,'adminowo','admin@admin.admin','admin','admin','0192837465','admin');
--------------------------------------------------------
--  DDL for Function TANIE
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "SYSTEM"."TANIE" 
(
  ID_number IN NUMBER
) RETURN SYS_REFCURSOR IS
my_cursor SYS_REFCURSOR;
BEGIN
  open my_cursor FOR select * from offer 
  where FP_KL(price,(Select price_a from profile where user_id=ID_number),(Select price_b from profile where user_id=ID_number)) > 0
  order by FP_KL(price,(Select price_a from profile where user_id=ID_number),(Select price_b from profile where user_id=ID_number)) desc;
  RETURN my_cursor;
END TANIE;

/
--------------------------------------------------------
--  DDL for Function FP_TR
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "SYSTEM"."FP_TR" 
(
  X IN FLOAT
, A IN FLOAT
, B IN FLOAT
, C IN FLOAT
, D IN FLOAT 
) RETURN NUMBER IS
Y NUMBER(6,5);

BEGIN
  IF ((X <= A) OR (X > D)) THEN Y := 0.0;
  ELSIF(X < B) THEN Y := (X-A) / (B-A);
  ELSIF(X < C) THEN Y := 1.0;
  ELSE Y := (D-X) / (D-C);
  END IF;
  RETURN Y;
END FP_TR;

/
--------------------------------------------------------
--  DDL for Function FP_KL
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "SYSTEM"."FP_KL" 
(
  X IN FLOAT 
, A IN FLOAT  
, B IN FLOAT  
) RETURN NUMBER IS
Y NUMBER(6,5);

BEGIN
  IF (X <= A) THEN Y := 1.0;
  ELSIF(X > B) THEN Y := 0.0;
  ELSE Y := (B-X) / (B-A);
  END IF;
  RETURN Y;
END FP_KL;

/
--------------------------------------------------------
--  DDL for Function FP_KG
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "SYSTEM"."FP_KG" 
(
  X IN FLOAT 
, C IN FLOAT 
, D IN FLOAT 
) RETURN NUMBER IS
Y NUMBER(6,5);

BEGIN
  IF (X <= C) THEN Y := 0.0;
  ELSIF(X > D) THEN Y := 1.0;
  ELSE Y := (X-C) / (D-C);
  END IF;
  RETURN Y;
END FP_KG;

/
